import{_ as S}from"./DeDs7JXL.js";import{d as k,c as M,a,o,b,e as t,_ as O,n as F,f as c,t as n,F as p,u as r,g as T,h as A,r as w,i as _,w as x,j as V,k as D,l as E,m as H,p as q,q as G,s as W,v as N,x as J,y as K,z as Q,A as U}from"./DMW7H7uF.js";import{_ as L,a as X}from"./B69dkwVL.js";import{_ as Y,a as Z}from"./D2-tV68h.js";import{_ as z}from"./CfcZmrfW.js";import{_ as ee}from"./CLyvvq6V.js";import{g as te,a as oe}from"./tgkhvQ00.js";const ne={p4:"",grid:"~ cols-[max-content_1fr]","gap-8":"","items-center":"",ma:"","max-w-300":""},ie={"lt-md:w":"[calc(100vw-2rem)]",flex:"~ col","md:p4":"",gap6:""},se={key:0},ae={"text-3xl":"",mb4:""},re=["textContent"],me={"text-sm":"",op80:""},le={grid:"~ cols-[max-content_1fr] lg:cols-[max-content_1fr_max-content_1fr] gap3","items-center":""},de={flex:"~ row wrap gap1"},ue={flex:"~ row wrap gap1"},pe=k({__name:"Info",props:{item:{default:()=>({})},type:{default:"movie"}},setup(f){const e=f,s=M(()=>({...e.item.external_ids,homepage:e.item.homepage})),m=M(()=>{var i;return(i=e.item.credits)==null?void 0:i.crew.filter(d=>d.job==="Director")});return(i,d)=>{var g,C,h,y,I;const l=O,u=L,$=Y;return o(),a("div",ne,[b(l,{width:"400",height:"600",format:"webp",src:`/tmdb${e.item.poster_path}`,alt:e.item.title||e.item.name,block:"",border:"4 gray4/10","w-79":"","lt-md:hidden":"",transition:"","duration-400":"","object-cover":"",aspect:"10/16",style:F({"view-transition-name":`item-${e.item.id}`})},null,8,["src","alt","style"]),t("div",ie,[e.item.overview?(o(),a("div",se,[t("h2",ae,n(i.$t("Storyline")),1),t("div",{op80:"",textContent:n(e.item.overview)},null,8,re)])):c("",!0),t("div",me,[t("ul",le,[e.item.release_date?(o(),a(p,{key:0},[t("div",null,n(i.$t("Release Date")),1),t("div",null,n(r(T)(e.item.release_date)),1)],64)):c("",!0),e.item.runtime?(o(),a(p,{key:1},[t("div",null,n(i.$t("Runtime")),1),t("div",null,n(r(A)(e.item.runtime)),1)],64)):c("",!0),(g=r(m))!=null&&g.length?(o(),a(p,{key:2},[t("div",null,n(i.$t("Director")),1),t("div",de,[(o(!0),a(p,null,w(r(m),v=>(o(),_(u,{key:v.id,to:`/person/${v.id}`,bg:"gray/10 hover:gray/20",p:"x2 y1",rounded:"","text-xs":""},{default:x(()=>[V(n(v.name),1)]),_:2},1032,["to"]))),128))])],64)):c("",!0),e.item.budget?(o(),a(p,{key:3},[t("div",null,n(i.$t("Budget")),1),t("div",null," $"+n(r(D)(e.item.budget)),1)],64)):c("",!0),e.item.revenue?(o(),a(p,{key:4},[t("div",null,n(i.$t("Revenue")),1),t("div",null," $"+n(r(D)(e.item.revenue)),1)],64)):c("",!0),(h=(C=e.item)==null?void 0:C.genres)!=null&&h.length?(o(),a(p,{key:5},[t("div",null,n(i.$t("Genre")),1),t("div",ue,[(o(!0),a(p,null,w(e.item.genres,v=>(o(),_(u,{key:v.id,to:`/genre/${v.id}/${i.type}`,bg:"gray/10 hover:gray/20",p:"x2 y1",rounded:"","text-xs":""},{default:x(()=>[V(n(v.name),1)]),_:2},1032,["to"]))),128))])],64)):c("",!0),e.item.status?(o(),a(p,{key:6},[t("div",null,n(i.$t("Status")),1),t("div",null,n(e.item.status),1)],64)):c("",!0),e.item.original_language?(o(),a(p,{key:7},[t("div",null,n(i.$t("Language")),1),t("div",null,n(r(E)(e.item.original_language)),1)],64)):c("",!0),(I=(y=e.item)==null?void 0:y.production_companies)!=null&&I.length?(o(),a(p,{key:8},[t("div",null,n(i.$t("Production")),1),t("div",null,n(e.item.production_companies.map(v=>v.name).join(", ")),1)],64)):c("",!0)])]),t("div",null,[b($,{links:r(s)},null,8,["links"])])])])}}}),ce={block:"","bg-gray4:10":"",p1:"",class:"aspect-10/16",transition:"","duration-400":"",hover:"scale-105 z10","data-testid":"person-container"},_e={key:1,"h-full":"",op10:"","data-testid":"person-placeholder"},ve={"mt-2":"","data-testid":"person-name"},ge={op50:"","data-testid":"person-character"},he=k({__name:"Card",props:{item:{}},setup(f){return(e,s)=>{const m=O,i=L;return o(),_(i,{to:`/person/${e.item.id}`,"data-testid":"person-link"},{default:x(()=>[t("div",ce,[e.item.profile_path?(o(),_(m,{key:0,width:"500",height:"800",format:"webp",src:`/tmdb${e.item.profile_path}`,alt:e.item.name,"w-full":"","h-full":"","object-cover":"","data-testid":"person-image"},null,8,["src","alt"])):(o(),a("div",_e,s[0]||(s[0]=[t("div",{"i-ph:user":"",ma:"","text-4xl":""},null,-1)])))]),t("div",ve,n(e.item.name),1),t("div",ge,n(e.item.character||e.item.known_for_department),1)]),_:1},8,["to"])}}}),fe=k({__name:"Overview",props:{item:{},type:{}},setup(f){return(e,s)=>{var l,u;const m=pe,i=he,d=z;return o(),a(p,null,[b(m,{item:e.item,type:e.type},null,8,["item","type"]),(u=(l=e.item.credits)==null?void 0:l.cast)!=null&&u.length?(o(),_(d,{key:0},{title:x(()=>[V(n(e.$t("Cast")),1)]),default:x(()=>{var $;return[(o(!0),a(p,null,w(($=e.item.credits)==null?void 0:$.cast,g=>(o(),_(i,{key:g.id,item:g,"flex-1":"","w-50":""},null,8,["item"]))),128))]}),_:1})):c("",!0)],64)}}}),$e={block:"","bg-gray4:10":"",p1:"",flex:"",class:"aspect-16/9",transition:"","duration-400":"",relative:"",hover:"scale-102 z10","data-testid":"video-thumbnail"},ye={"mt-2":"","data-testid":"video-name"},ke={op60:"","text-sm":"","data-testid":"video-type"},be=k({__name:"Card",props:{item:{}},setup(f){const e=f,s=H();function m(){return s(q(e.item))}return(i,d)=>{const l=O;return o(),a("button",{pb2:"","text-left":"","data-testid":"play-button",onClick:d[0]||(d[0]=u=>m())},[t("div",$e,[b(l,{src:`/youtube/vi/${i.item.key}/maxresdefault.jpg`,width:"400",height:"600",format:"webp",alt:e.item.name,"w-full":"","h-full":"","object-cover":"","data-testid":"video-image"},null,8,["src","alt"]),d[1]||(d[1]=t("div",{flex:"","w-full":"","h-full":"",absolute:"","inset-0":"",op20:"","hover:op100":"",transition:""},[t("div",{"i-ph-play":"",ma:"","text-3xl":"","data-testid":"play-icon"})],-1))]),t("div",ye,n(e.item.name),1),t("div",ke,n(e.item.type),1)])}}}),we={flex:"~ col",px4:"","md:px14":"",py4:"",gap6:""},xe={op50:""},Ce={grid:"~ cols-minmax-20rem",gap4:""},Ie=k({__name:"Videos",props:{item:{}},setup(f){return(e,s)=>{var i,d,l;const m=be;return o(),a("div",we,[t("div",xe,n(e.$t("{numberOfVideos} Videos",{numberOfVideos:((d=(i=e.item.videos)==null?void 0:i.results)==null?void 0:d.length)||0})),1),t("div",Ce,[(o(!0),a(p,null,w((l=e.item.videos)==null?void 0:l.results,u=>(o(),_(m,{key:u.id,item:u},null,8,["item"]))),128))])])}}}),Me={flex:"~ col",px4:"","md:px16":"",py8:"",gap6:""},Ve={flex:"","gap-2":"","items-baseline":""},Ne={"text-2xl":""},Oe={"text-sm":"",op50:""},je={grid:"~ cols-minmax-20rem",gap4:""},Be={flex:"","mt-10":"","gap-2":"","items-baseline":""},Pe={"text-2xl":""},De={"text-sm":"",op50:""},Le={grid:"~ cols-minmax-10rem lg:cols-minmax-15rem",gap4:""},ze=k({__name:"Photos",props:{item:{}},setup(f){const e=G();return(s,m)=>{var d,l,u,$,g,C;const i=ee;return o(),a("div",Me,[t("div",Ve,[t("div",Ne,n(s.$t("Backdrops")),1),t("div",Oe,n(s.$t("{numberOfImages} Images",{numberOfImages:(l=(d=s.item.images)==null?void 0:d.backdrops)==null?void 0:l.length})),1)]),t("div",je,[(o(!0),a(p,null,w((u=s.item.images)==null?void 0:u.backdrops,(h,y)=>(o(),_(i,{key:h.file_path,item:h,class:"aspect-16/9","w-full":"",onClick:I=>r(e)(s.item.images.backdrops,y)},null,8,["item","onClick"]))),128))]),t("div",Be,[t("div",Pe,n(s.$t("Posters")),1),t("div",De,n(s.$t("{numberOfImages} Images",{numberOfImages:(g=($=s.item.images)==null?void 0:$.posters)==null?void 0:g.length})),1)]),t("div",Le,[(o(!0),a(p,null,w((C=s.item.images)==null?void 0:C.posters,(h,y)=>(o(),_(i,{key:h.file_path,item:h,class:"aspect-9/16",onClick:I=>r(e)(s.item.images.posters,y)},null,8,["item","onClick"]))),128))])])}}}),Re={flex:"","items-center":"","justify-center":"",gap8:"",py6:""},Se=k({__name:"Details",props:{item:{},type:{}},setup(f){const e=W("overview");return(s,m)=>{const i=fe,d=Ie,l=ze;return o(),a(p,null,[t("div",Re,[t("button",{"n-tab":"",class:N({"n-tab-active":r(e)==="overview"}),onClick:m[0]||(m[0]=u=>e.value="overview")},n(s.$t("Overview")),3),t("button",{"n-tab":"",class:N({"n-tab-active":r(e)==="videos"}),onClick:m[1]||(m[1]=u=>e.value="videos")},n(s.$t("Videos")),3),t("button",{"n-tab":"",class:N({"n-tab-active":r(e)==="photos"}),onClick:m[2]||(m[2]=u=>e.value="photos")},n(s.$t("Media Photos")),3)]),r(e)==="overview"?(o(),_(i,{key:0,item:s.item,type:s.type},null,8,["item","type"])):c("",!0),r(e)==="videos"?(o(),_(d,{key:1,item:s.item},null,8,["item"])):c("",!0),r(e)==="photos"?(o(),_(l,{key:2,item:s.item},null,8,["item"])):c("",!0)],64)}}}),We=k({__name:"[id]",async setup(f){let e,s;const m=J(),i=M(()=>m.params.type||"movie"),d=M(()=>m.params.id),[l,u]=([e,s]=K(()=>Promise.all([te(i.value,d.value),oe(i.value,d.value)])),e=await e,s(),e),$=Q();return U({title:l.name||l.title,meta:[{name:"description",content:l.overview},{property:"og:image",content:$(`/tmdb${l.poster_path}`,{width:1200,height:630})}]}),(g,C)=>{var j,B;const h=S,y=Se,I=X,v=z,R=Z;return o(),a("div",null,[b(h,{item:r(l)},null,8,["item"]),b(y,{item:r(l),type:r(i)},null,8,["item","type"]),(B=(j=r(u))==null?void 0:j.results)!=null&&B.length?(o(),_(v,{key:0},{title:x(()=>[V(n(g.$t("More like this")),1)]),default:x(()=>[(o(!0),a(p,null,w(r(u).results,P=>(o(),_(I,{key:P.id,item:P,type:r(i),"flex-1":"","w-40":"","md:w-60":""},null,8,["item","type"]))),128))]),_:1})):c("",!0),b(R)])}}});export{We as default};
